{"ast":null,"code":"import { getRooms, checkCredentials, postToFavs, postToCompleted, deleteFromFavs } from \"./../../apiService\";\nexport var select_id = function select_id(id) {\n  return {\n    type: \"SELECT_ROOM_ID\",\n    id: id\n  };\n};\nexport var select_genre = function select_genre(genre) {\n  return {\n    type: \"SELECT_GENRE\",\n    genre: genre\n  };\n};\nexport var fetch_rooms = function fetch_rooms() {\n  return function (dispatch) {\n    getRooms().then(function (rooms) {\n      return dispatch({\n        type: \"FETCH_ROOMS\",\n        list: rooms\n      });\n    }).catch(function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var add_saved_list = function add_saved_list(roomId, userId) {\n  return function (dispatch) {\n    postToFavs(roomId, userId).then(function () {\n      dispatch({\n        type: \"ADD_SAVED_LIST\",\n        roomId: roomId\n      });\n    }).catch(function (e) {\n      return console.log(e, \"Error with add_saved_list\");\n    });\n  };\n};\nexport var add_completed_list = function add_completed_list(roomId, userId) {\n  return function (dispatch) {\n    postToCompleted(roomId, userId).then(function () {\n      console.log(roomId, userId);\n      deleteFromFavs(roomId, userId).then(function () {\n        dispatch({\n          type: \"ADD_COMPLETED_LIST\",\n          roomId: roomId\n        });\n        dispatch({\n          type: \"DELETE_FROM_SAVED\",\n          roomId: roomId\n        });\n      });\n    }).catch(function (e) {\n      return console.log(e, \"Error with add_completed_list\");\n    });\n  };\n};\nexport var delete_from_saved = function delete_from_saved(roomId) {\n  return {\n    type: \"DELETE_FROM_SAVED\",\n    roomId: roomId\n  };\n};\nexport var delete_from_completed = function delete_from_completed(roomId) {\n  return {\n    type: \"DELETE_FROM_COMPLETED\",\n    roomId: roomId\n  };\n};\nexport var set_login_true = function set_login_true() {\n  return {\n    type: \"SET_LOGIN_TRUE\"\n  };\n};\nexport var set_user_info = function set_user_info(email, pass) {\n  return function (dispatch) {\n    checkCredentials(email).then(function (user) {\n      if (user && user.password === pass) {\n        dispatch({\n          type: \"SET_LOGIN_TRUE\"\n        });\n        dispatch({\n          type: \"SET_USER_INFO\",\n          user: user\n        });\n      } else {\n        dispatch({\n          type: \"WRONG_CREDENTIALS\"\n        });\n      }\n    }).catch(function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var set_users = function set_users() {\n  return function (dispatch) {};\n};","map":{"version":3,"sources":["/Users/mateorubinstein/Desktop/esbooky-full-stack.nosync/EsBooky-client/src/redux/actions.js"],"names":["getRooms","checkCredentials","postToFavs","postToCompleted","deleteFromFavs","select_id","id","type","select_genre","genre","fetch_rooms","dispatch","then","rooms","list","catch","e","console","log","add_saved_list","roomId","userId","add_completed_list","delete_from_saved","delete_from_completed","set_login_true","set_user_info","email","pass","user","password","set_users"],"mappings":"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","sourcesContent":["import {\n\tgetRooms,\n\tcheckCredentials,\n\tpostToFavs,\n\tpostToCompleted,\n\tdeleteFromFavs,\n} from \"./../../apiService\";\n\nexport const select_id = id => ({\n\ttype: \"SELECT_ROOM_ID\",\n\tid,\n});\nexport const select_genre = genre => ({\n\ttype: \"SELECT_GENRE\",\n\tgenre,\n});\n\nexport const fetch_rooms = () => {\n\treturn dispatch => {\n\t\tgetRooms()\n\t\t\t.then(rooms =>\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"FETCH_ROOMS\",\n\t\t\t\t\tlist: rooms,\n\t\t\t\t})\n\t\t\t)\n\t\t\t.catch(e => console.log(e));\n\t};\n};\n\nexport const add_saved_list = (roomId, userId) => {\n\treturn dispatch => {\n\t\tpostToFavs(roomId, userId)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_SAVED_LIST\",\n\t\t\t\t\troomId,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(e => console.log(e, \"Error with add_saved_list\"));\n\t};\n};\n\nexport const add_completed_list = (roomId, userId) => {\n\treturn dispatch => {\n\t\tpostToCompleted(roomId, userId)\n\t\t\t.then(() => {\n\t\t\t\tconsole.log(roomId, userId);\n\t\t\t\tdeleteFromFavs(roomId, userId).then(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"ADD_COMPLETED_LIST\",\n\t\t\t\t\t\troomId,\n\t\t\t\t\t});\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"DELETE_FROM_SAVED\",\n\t\t\t\t\t\troomId,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(e => console.log(e, \"Error with add_completed_list\"));\n\t};\n};\n\nexport const delete_from_saved = roomId => ({\n\ttype: \"DELETE_FROM_SAVED\",\n\troomId,\n});\nexport const delete_from_completed = roomId => ({\n\ttype: \"DELETE_FROM_COMPLETED\",\n\troomId,\n});\n\nexport const set_login_true = () => ({\n\ttype: \"SET_LOGIN_TRUE\",\n});\n\nexport const set_user_info = (email, pass) => {\n\treturn dispatch => {\n\t\tcheckCredentials(email)\n\t\t\t.then(user => {\n\t\t\t\tif (user && user.password === pass) {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"SET_LOGIN_TRUE\",\n\t\t\t\t\t});\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"SET_USER_INFO\",\n\t\t\t\t\t\tuser,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"WRONG_CREDENTIALS\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(e => console.log(e));\n\t};\n};\n\nexport const set_users = () => {\n\treturn dispatch => {};\n};\n"]},"metadata":{},"sourceType":"module"}