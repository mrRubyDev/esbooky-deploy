{"ast":null,"code":"import { getRooms, getGenre } from \"../../apiService\";\n\nfunction reducers() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    selected_id: null,\n    rooms: [],\n    login: false,\n    user: {}\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"SELECT_ROOM_ID\":\n      state.selected_id = action.id;\n      return state;\n\n    case \"SELECT_GENRE\":\n      state.selected_genre = action.genre;\n      return state;\n\n    case \"FETCH_ROOMS\":\n      state.rooms = action.list;\n      return state;\n\n    case \"ADD_SAVED_LIST\":\n      if (state.user.fav_list) {\n        if (!state.user.fav_list.includes(action.room)) console.log(\"Inside it doesn't include\", action.room, state.user.fav_list);\n        state.user.fav_list.push(action.room);\n      } else state.user.fav_list.push(action.room);\n\n      return state;\n\n    case \"ADD_COMPLETED_LIST\":\n      if (state.user.completed_list) {\n        if (!state.user.completed_list.includes(action.room)) {\n          state.user.completed_list.push(action.room);\n        }\n      }\n\n      return state;\n\n    case \"DELETE_FROM_SAVED\":\n      if (state.user.fav_list && state.user.fav_list.length > 1) {\n        var index = state.user.fav_list.indexOf(action.room);\n        state.user.fav_list.splice(index, index + 1);\n      } else {\n        state.user.fav_list = [];\n      }\n\n      return state;\n\n    case \"DELETE_FROM_COMPLETED\":\n      if (state.user.completed_list.fav_list && state.user.completed_list.length > 1) {\n        var _index = state.user.completed_list.indexOf(action.room);\n\n        state.user.completed_list.fav_list.splice(_index, _index + 1);\n      } else {\n        state.user.completed_list = [];\n      }\n\n      return state;\n\n    case \"SET_LOGIN_TRUE\":\n      state.login = true;\n      return state;\n\n    case \"SET_USER_INFO\":\n      state.user = action.user;\n      return state;\n\n    default:\n      return state;\n  }\n}\n\nexport default reducers;","map":{"version":3,"sources":["/Users/mateorubinstein/Desktop/esbooky-full-stack.nosync/EsBooky-client/src/redux/reducers.js"],"names":["getRooms","getGenre","reducers","state","selected_id","rooms","login","user","action","type","id","selected_genre","genre","list","fav_list","includes","room","console","log","push","completed_list","length","index","indexOf","splice"],"mappings":"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","sourcesContent":["import { getRooms, getGenre } from \"../../apiService\";\n\nfunction reducers(\n\tstate = {\n\t\tselected_id: null,\n\t\trooms: [],\n\t\tlogin: false,\n\t\tuser: {},\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase \"SELECT_ROOM_ID\":\n\t\t\tstate.selected_id = action.id;\n\t\t\treturn state;\n\t\tcase \"SELECT_GENRE\":\n\t\t\tstate.selected_genre = action.genre;\n\t\t\treturn state;\n\t\tcase \"FETCH_ROOMS\":\n\t\t\tstate.rooms = action.list;\n\t\t\treturn state;\n\n\t\tcase \"ADD_SAVED_LIST\":\n\t\t\tif (state.user.fav_list) {\n\t\t\t\tif (!state.user.fav_list.includes(action.room))\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\"Inside it doesn't include\",\n\t\t\t\t\t\taction.room,\n\t\t\t\t\t\tstate.user.fav_list\n\t\t\t\t\t);\n\t\t\t\tstate.user.fav_list.push(action.room);\n\t\t\t} else state.user.fav_list.push(action.room);\n\t\t\treturn state;\n\n\t\tcase \"ADD_COMPLETED_LIST\":\n\t\t\tif (state.user.completed_list) {\n\t\t\t\tif (!state.user.completed_list.includes(action.room)) {\n\t\t\t\t\tstate.user.completed_list.push(action.room);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn state;\n\n\t\tcase \"DELETE_FROM_SAVED\":\n\t\t\tif (state.user.fav_list && state.user.fav_list.length > 1) {\n\t\t\t\tconst index = state.user.fav_list.indexOf(action.room);\n\t\t\t\tstate.user.fav_list.splice(index, index + 1);\n\t\t\t} else {\n\t\t\t\tstate.user.fav_list = [];\n\t\t\t}\n\t\t\treturn state;\n\t\tcase \"DELETE_FROM_COMPLETED\":\n\t\t\tif (\n\t\t\t\tstate.user.completed_list.fav_list &&\n\t\t\t\tstate.user.completed_list.length > 1\n\t\t\t) {\n\t\t\t\tconst index = state.user.completed_list.indexOf(action.room);\n\t\t\t\tstate.user.completed_list.fav_list.splice(index, index + 1);\n\t\t\t} else {\n\t\t\t\tstate.user.completed_list = [];\n\t\t\t}\n\t\t\treturn state;\n\t\tcase \"SET_LOGIN_TRUE\":\n\t\t\tstate.login = true;\n\t\t\treturn state;\n\n\t\tcase \"SET_USER_INFO\":\n\t\t\tstate.user = action.user;\n\t\t\treturn state;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default reducers;\n"]},"metadata":{},"sourceType":"module"}